---


---

<h2 id="优化点可行性及效果调研">优化点可行性及效果调研</h2>

<table>
<thead>
<tr>
<th>优化点</th>
<th>测试效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>压缩音频</td>
<td>当红转码的码率不可配置</td>
</tr>
<tr>
<td>多线程下载</td>
<td>安卓测试在网络畅通的情况下效果不大</td>
</tr>
<tr>
<td>m4a替代m3u8切片</td>
<td>文件大小减少2/3，网络请求数量减少一般以上</td>
</tr>
</tbody>
</table><h2 id="优化方案">优化方案</h2>
<p>根据调研结果，m4a方案满足需求，目前移动端可支持m4a音频播放，并且使用m4a的情况下下载速度有较大提升：</p>
<h3 id="方案a">方案A</h3>
<ul>
<li>描述：服务端听力真题&amp;训练题音频资源统一切换到m4a格式，客户端修改支持m4a下载方式，</li>
<li>风险：IOS需要重写下载库，移动端需强制更新版本（ios无法强更）</li>
<li>上线时间：2-3周</li>
</ul>
<h3 id="方案b">方案B</h3>
<ul>
<li>描述：移动端在下个版本兼容m4a的下载方式，服务端先不修改，等新版本客户端覆盖率达到一定比例（90%）之后，服务端再将音频资源统一切换到m4a格式，余下的老客户端采用强更或提示更新</li>
<li>风险：IOS需要重写下载库</li>
<li>上线时间：2个月以上</li>
</ul>
<h3 id="方案c">方案C</h3>
<ul>
<li>描述：服务端接入oss存放m4a，当红资源保留兼容老版本，服务端需维护两套资源，供新老版本使用</li>
<li>风险：服务端改动较大，IOS需要重写下载库</li>
<li>上线时间：1个月以上</li>
</ul>
<h2 id="其他建议方案">其他建议方案</h2>
<h3 id="方案d">方案D</h3>
<ul>
<li>描述：改进产品设计，移动端增加真题缓存功能，减少用户等待时间，</li>
<li>风险：暂无</li>
<li>上线时间：2周</li>
</ul>

